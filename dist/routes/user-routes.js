"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const user_controller_1 = require("../controllers/user-controller");
const user_service_1 = require("../services/user-service");
const user_repository_1 = require("../repositories/user-repository");
const auth_1 = require("../middlewares/auth");
const multerConfig_1 = __importDefault(require("../config/multerConfig"));
const express_1 = __importDefault(require("express"));
const userRespository = new user_repository_1.UserRepository();
const userService = new user_service_1.UserService(userRespository);
const userController = new user_controller_1.UserController(userService);
const userRouter = express_1.default.Router();
userRouter.post("/login", userController.login);
userRouter.post("/sign-up", userController.signUp);
userRouter.post("/verify-otp", userController.verifyOtp);
userRouter.post("/create-profile", userController.createProfile);
userRouter.get("/profile", auth_1.protect, userController.userProfile);
userRouter.post("/edit-profile", auth_1.protect, multerConfig_1.default.single("profilePic"), userController.updateProfile);
userRouter.post("/change-password", auth_1.protect, userController.updatePassword);
userRouter.post("/forgot-password", userController.forgotPassword);
userRouter.post("/fpassword-otp/:email", userController.forgotPassswordOtpVerify);
userRouter.post("/reset-password", userController.resetPassword);
userRouter.post("/search-name", userController.searchName);
userRouter.get("/friend-profile", userController.friendProfile);
userRouter.post("/follow", auth_1.protect, userController.followProfile);
userRouter.post("/unFollow", auth_1.protect, userController.unFollowProfile);
userRouter.post("/blueTickConfirmed", auth_1.protect, userController.blueTickProceed);
userRouter.post("/create-new-chat", auth_1.protect, userController.createNewChat);
userRouter.get("/conversations", auth_1.protect, userController.getConversations);
userRouter.post("/sendMessage", auth_1.protect, userController.sendMessage);
userRouter.post("/getMessages", auth_1.protect, userController.getMessages);
userRouter.post("/cancel-premium", auth_1.protect, userController.cancelPremium);
userRouter.post("/create-community", auth_1.protect, userController.createCommunity);
userRouter.get("/communities", auth_1.protect, userController.getCommunities);
userRouter.post("/communitySendMessage", auth_1.protect, userController.communitySendMessage);
userRouter.post("/getCommunityMessages", auth_1.protect, userController.getCommunityMessages);
userRouter.post("/add-user-to-community", auth_1.protect, userController.editCommunity);
userRouter.post("/remove-user-from-community", auth_1.protect, userController.removeUserFromCommunity);
userRouter.post("/edit-community-name", auth_1.protect, userController.editCommunityName);
userRouter.post("/unsend-message", auth_1.protect, userController.unsendMessage);
userRouter.post("/unsend-community-message", auth_1.protect, userController.unsendCommunityMessage);
userRouter.post("/exit-community", auth_1.protect, userController.exitCommunity);
userRouter.get("/get-notifications", auth_1.protect, userController.getNotifications);
exports.default = userRouter;
